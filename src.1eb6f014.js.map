{"version":3,"sources":["js/API.js","index.js"],"names":["getAll","fetch","then","response","json","data","heros","markUpForHero","_id","nickname","superpowers","images","console","log","form","document","getElementById","addEventListener","e","preventDefault","method","body","FormData","result","reset","querySelector","classList","add","location","reload","divForImg","onDeleteClick","event","buttonDel","target","id"],"mappings":";;;AAIC,aAJc,SAASA,IACfC,OAAAA,MAAO,uDACXC,KAAKC,GAAYA,EAASC,QAC1BF,KAAKC,GAAYA,EAASE,KAAKC,OACnC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACmEA,aAvED,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,aAsEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzDD,SAASC,GAAc,IAAEC,EAAF,SAAOC,EAAP,YAAiBC,EAAjB,OAA8BC,IAC3C,kDAA2CH,uDACJG,iIAIHF,sGAEGC,kGAKFF,oEACAA,mDAf/CI,QAAQC,KAAI,EAAZ,EAAA,YAmBA,MAAMC,EAAOC,SAASC,eAAe,QACrCF,EAAKG,iBAAiB,SAAU,eAAwBC,GACtDA,EAAEC,iBAEEhB,IAAAA,QAAiBF,MAAO,sDAAsD,CAChFmB,OAAQ,OACRC,KAAM,IAAIC,SAASR,KAKjBS,SAFepB,EAASC,OAEhB,CACVU,EAAKU,QACST,SAASU,cAAc,UAC/BC,UAAUC,IAAI,aACpBC,SAASC,YAGb,MAAMC,EAAYf,SAASU,cAAc,kBAGzC,eAAeM,EAAcC,GACrBC,MAAAA,EAAYlB,SAASC,eAAegB,EAAME,OAAOC,IAEnDH,GAAAA,EAAME,SAAWD,EACnB,OAEE9B,IAAAA,QAAiBF,6DACoC+B,EAAME,OAAOC,KACpE,CACEf,OAAQ,SACRC,KAAMW,EAAME,OAAOC,WAIJhC,EAASC,QAE1BwB,SAASC,SAlBbC,EAAUb,iBAAiB,QAASc","file":"src.1eb6f014.js","sourceRoot":"../src","sourcesContent":["export default function getAll() {\n  return fetch(`https://superheros-back-end.herokuapp.com/api/heros`)\n    .then(response => response.json())\n    .then(response => response.data.heros);\n}\n","import './sass/main.scss';\nimport API from './js/API';\n\n// function getAll() {\n//   return fetch(`https://superheros-back-end.herokuapp.com/api/heros`)\n//     .then(response => response.json())\n//     .then(response => response.data.heros)\n//     .then(response => {\n//       const cards = response.reduce((acc, hero) => acc + markUpForHero(hero), []);\n//       const container = document.querySelector('.div-for-heros');\n//       container.insertAdjacentHTML('afterbegin', cards);\n//     });\n// }\nconsole.log(API());\nfunction markUpForHero({ _id, nickname, superpowers, images }) {\n  return `<li class=\"hero-gallery-item\" data-item=\"${_id}\">\n    <img class=\"hero-gallery-item-poster\" src=\"${images}\"\n        alt=\"foto Hero\"/>\n\n    <div class=\"hero-gallery-item-description\">\n        <h2 class=\"hero-gallery-item-title\">${nickname}</h2>\n        <div class=hero-gallery-item-box\">\n            <p class=\"hero-gallery-item-genre\">${superpowers} </p>\n\n           </div>\n   </div>\n   <div>\n             <button  class=\"button-del\" id=\"${_id}\">delete</button>\n           <button class=\"button-update\" id=\"${_id}\">update</button>\n  </div>\n             </li>`;\n}\nconst form = document.getElementById('form');\nform.addEventListener('submit', async function postHero(e) {\n  e.preventDefault();\n\n  let response = await fetch(`https://superheros-back-end.herokuapp.com/api/heros`, {\n    method: 'POST',\n    body: new FormData(form),\n  });\n\n  let result = await response.json();\n\n  if (result) {\n    form.reset();\n    const modal = document.querySelector('.modal');\n    modal.classList.add('is-hidden');\n    location.reload();\n  }\n});\nconst divForImg = document.querySelector('.div-for-heros');\ndivForImg.addEventListener('click', onDeleteClick);\n\nasync function onDeleteClick(event) {\n  const buttonDel = document.getElementById(event.target.id);\n\n  if (event.target !== buttonDel) {\n    return;\n  }\n  let response = await fetch(\n    `https://superheros-back-end.herokuapp.com/api/heros/${event.target.id}`,\n    {\n      method: 'DELETE',\n      body: event.target.id,\n    },\n  );\n\n  let result = await response.json();\n  if (result) {\n    location.reload();\n  }\n}\n"]}